package euuid

import "testing"

func TestNewV4(t *testing.T) {
	uv4 := NewV4()
	if x := uv4.String(); !IsUUID(x) {
		t.Error(x)
	}
}

func TestUuidV4_String(t *testing.T) {
	{
		u := &uuidV4{u: []byte{0x00, 0x01, 0x02, 0x03, 0x04, 0x05, 0x06, 0x07, 0x08, 0x09, 0x0a, 0x0b, 0x0c, 0x0d, 0x0e, 0x0f}}
		if x := u.String(); x != "00010203-0405-0607-0809-0a0b0c0d0e0f" {
			t.Error(x)
		}
	}
	{
		u := &uuidV4{u: []byte{0x71, 0x84, 0xc6, 0x68, 0xb4, 0xe7, 0x4e, 0xcd, 0xb0, 0xbb, 0xf7, 0xd9, 0x87, 0x9f, 0xd9, 0x13}}
		if x := u.String(); x != "7184c668-b4e7-4ecd-b0bb-f7d9879fd913" {
			t.Error(x)
		}
	}
}

func TestUuidV4_Urn(t *testing.T) {
	{
		u := &uuidV4{u: []byte{0x00, 0x01, 0x02, 0x03, 0x04, 0x05, 0x06, 0x07, 0x08, 0x09, 0x0a, 0x0b, 0x0c, 0x0d, 0x0e, 0x0f}}
		if x := u.Urn(); x != "urn:uuid:00010203-0405-0607-0809-0a0b0c0d0e0f" {
			t.Error(x)
		}
	}
	{
		u := &uuidV4{u: []byte{0x71, 0x84, 0xc6, 0x68, 0xb4, 0xe7, 0x4e, 0xcd, 0xb0, 0xbb, 0xf7, 0xd9, 0x87, 0x9f, 0xd9, 0x13}}
		if x := u.Urn(); x != "urn:uuid:7184c668-b4e7-4ecd-b0bb-f7d9879fd913" {
			t.Error(x)
		}
	}
}
